var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function u(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode&&t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function r(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function m(){return f("")}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t){return""===t?null:+t}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}function x(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function y(t){const e=t.querySelector(":checked");return e&&e.__value}let b;function _(t){b=t}function w(){if(!b)throw new Error("Function called outside component initialization");return b}function k(){const t=w();return(e,n,{cancelable:o=!1}={})=>{const u=t.$$.callbacks[e];if(u){const i=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const u=document.createEvent("CustomEvent");return u.initCustomEvent(t,n,o,e),u}(e,n,{cancelable:o});return u.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}const S=[],C=[];let E=[];const M=[],O=Promise.resolve();let q=!1;function z(t){E.push(t)}function j(t){M.push(t)}const N=new Set;let A=0;function B(){if(0!==A)return;const t=b;do{try{for(;A<S.length;){const t=S[A];A++,_(t),T(t.$$)}}catch(t){throw S.length=0,A=0,t}for(_(null),S.length=0,A=0;C.length;)C.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];N.has(e)||(N.add(e),e())}E.length=0}while(S.length);for(;M.length;)M.pop()();q=!1,N.clear(),_(t)}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const I=new Set;let P;function J(){P={r:0,c:[],p:P}}function L(){P.r||o(P.c),P=P.p}function D(t,e){t&&t.i&&(I.delete(t),t.i(e))}function F(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),P.c.push((()=>{I.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function R(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function U(t){t&&t.c()}function W(t,n,i,s){const{fragment:l,after_update:a}=t.$$;l&&l.m(n,i),s||z((()=>{const n=t.$$.on_mount.map(e).filter(u);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(z)}function G(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),E=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(S.push(t),q||(q=!0,O.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,u,i,s,l,c,r,f=[-1]){const p=b;_(e);const m=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:u.target||p.$$.root};r&&r(m.root);let d=!1;if(m.ctx=i?i(e,u.props||{},((t,n,...o)=>{const u=o.length?o[0]:n;return m.ctx&&l(m.ctx[t],m.ctx[t]=u)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](u),d&&H(e,t)),n})):[],m.update(),d=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),u.target){if(u.hydrate){const t=function(t){return Array.from(t.childNodes)}(u.target);m.fragment&&m.fragment.l(t),t.forEach(a)}else m.fragment&&m.fragment.c();u.intro&&D(e.$$.fragment),W(e,u.target,u.anchor,u.customElement),B()}_(p)}class Q{$destroy(){G(this,1),this.$destroy=t}$on(e,n){if(!u(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(e){let n,u,i,s,c,f,m;return{c(){n=r("button"),n.textContent="-",u=p(),i=r("input"),s=p(),c=r("button"),c.textContent="+",v(n,"class","svelte-a97nfq"),v(i,"type","number"),v(i,"min",e[2]),v(i,"max",e[3]),v(i,"step",e[1]),v(i,"class","svelte-a97nfq"),v(c,"class","svelte-a97nfq")},m(t,o){l(t,n,o),l(t,u,o),l(t,i,o),g(i,e[0]),l(t,s,o),l(t,c,o),f||(m=[d(n,"click",e[5]),d(i,"input",e[6]),d(c,"click",e[4])],f=!0)},p(t,[e]){4&e&&v(i,"min",t[2]),8&e&&v(i,"max",t[3]),2&e&&v(i,"step",t[1]),1&e&&$(i.value)!==t[0]&&g(i,t[0])},i:t,o:t,d(t){t&&a(n),t&&a(u),t&&a(i),t&&a(s),t&&a(c),f=!1,o(m)}}}function X(t,e,n){let{value:o}=e,{step:u=1}=e,{min:i=-1312312312}=e,{max:s=332342423}=e;return t.$$set=t=>{"value"in t&&n(0,o=t.value),"step"in t&&n(1,u=t.step),"min"in t&&n(2,i=t.min),"max"in t&&n(3,s=t.max)},[o,u,i,s,function(){n(0,o+=u)},function(){n(0,o-=u)},function(){o=$(this.value),n(0,o)}]}class Y extends Q{constructor(t){super(),K(this,t,X,V,i,{value:0,step:1,min:2,max:3})}}function Z(t){let e,n,o,u,i,s,c,m,v,$;function h(e){t[7](e)}let g={step:t[1],min:t[2],max:t[3]};function x(e){t[8](e)}void 0!==t[0].min&&(g.value=t[0].min),e=new Y({props:g}),C.push((()=>R(e,"value",h)));let y={step:t[1],min:t[2],max:t[3]};return void 0!==t[0].max&&(y.value=t[0].max),u=new Y({props:y}),C.push((()=>R(u,"value",x))),{c(){U(e.$$.fragment),o=f("\r\n    to\r\n    "),U(u.$$.fragment),s=p(),c=r("button"),c.textContent="static"},m(n,i){W(e,n,i),l(n,o,i),W(u,n,i),l(n,s,i),l(n,c,i),m=!0,v||($=d(c,"click",t[5]),v=!0)},p(t,o){const s={};2&o&&(s.step=t[1]),4&o&&(s.min=t[2]),8&o&&(s.max=t[3]),!n&&1&o&&(n=!0,s.value=t[0].min,j((()=>n=!1))),e.$set(s);const l={};2&o&&(l.step=t[1]),4&o&&(l.min=t[2]),8&o&&(l.max=t[3]),!i&&1&o&&(i=!0,l.value=t[0].max,j((()=>i=!1))),u.$set(l)},i(t){m||(D(e.$$.fragment,t),D(u.$$.fragment,t),m=!0)},o(t){F(e.$$.fragment,t),F(u.$$.fragment,t),m=!1},d(t){G(e,t),t&&a(o),G(u,t),t&&a(s),t&&a(c),v=!1,$()}}}function tt(t){let e,n,o,u,i,s,c;function f(e){t[6](e)}let m={step:t[1],min:t[2],max:t[3]};return void 0!==t[0]&&(m.value=t[0]),e=new Y({props:m}),C.push((()=>R(e,"value",f))),{c(){U(e.$$.fragment),o=p(),u=r("button"),u.textContent="animate"},m(n,a){W(e,n,a),l(n,o,a),l(n,u,a),i=!0,s||(c=d(u,"click",t[4]),s=!0)},p(t,o){const u={};2&o&&(u.step=t[1]),4&o&&(u.min=t[2]),8&o&&(u.max=t[3]),!n&&1&o&&(n=!0,u.value=t[0],j((()=>n=!1))),e.$set(u)},i(t){i||(D(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){G(e,t),t&&a(o),t&&a(u),s=!1,c()}}}function et(t){let e,n,o,u;const i=[tt,Z],s=[];function c(t,e){return"number"==typeof t[0]?0:void 0!==t[0]?1:-1}return~(e=c(t))&&(n=s[e]=i[e](t)),{c(){n&&n.c(),o=m()},m(t,n){~e&&s[e].m(t,n),l(t,o,n),u=!0},p(t,[u]){let l=e;e=c(t),e===l?~e&&s[e].p(t,u):(n&&(J(),F(s[l],1,1,(()=>{s[l]=null})),L()),~e?(n=s[e],n?n.p(t,u):(n=s[e]=i[e](t),n.c()),D(n,1),n.m(o.parentNode,o)):n=null)},i(t){u||(D(n),u=!0)},o(t){F(n),u=!1},d(t){~e&&s[e].d(t),t&&a(o)}}}function nt(t,e,n){let{value:o}=e,{step:u=1}=e,{min:i=-1312312312}=e,{max:s=332342423}=e;return t.$$set=t=>{"value"in t&&n(0,o=t.value),"step"in t&&n(1,u=t.step),"min"in t&&n(2,i=t.min),"max"in t&&n(3,s=t.max)},[o,u,i,s,function(){"number"==typeof o&&n(0,o={min:o,max:o,step:1})},function(){"number"!=typeof o&&n(0,o=(o.min+o.max)/2)},function(t){o=t,n(0,o)},function(e){t.$$.not_equal(o.min,e)&&(o.min=e,n(0,o))},function(e){t.$$.not_equal(o.max,e)&&(o.max=e,n(0,o))}]}class ot extends Q{constructor(t){super(),K(this,t,nt,et,i,{value:0,step:1,min:2,max:3})}}function ut(t,e,n){const o=t.slice();return o[14]=e[n],o}function it(t){let e,n,o,u,i,s,c;function f(e){t[11](e)}let m={min:1};function d(e){t[12](e)}void 0!==t[0].times&&(m.value=t[0].times),e=new ot({props:m}),C.push((()=>R(e,"value",f)));let $={functions:t[1]};return void 0!==t[0].steps&&($.steps=t[0].steps),i=new xt({props:$}),C.push((()=>R(i,"steps",d))),{c(){U(e.$$.fragment),o=p(),u=r("div"),U(i.$$.fragment),v(u,"class","svelte-1apvort")},m(t,n){W(e,t,n),l(t,o,n),l(t,u,n),W(i,u,null),c=!0},p(t,o){const u={};!n&&1&o&&(n=!0,u.value=t[0].times,j((()=>n=!1))),e.$set(u);const l={};2&o&&(l.functions=t[1]),!s&&1&o&&(s=!0,l.steps=t[0].steps,j((()=>s=!1))),i.$set(l)},i(t){c||(D(e.$$.fragment,t),D(i.$$.fragment,t),c=!0)},o(t){F(e.$$.fragment,t),F(i.$$.fragment,t),c=!1},d(t){G(e,t),t&&a(o),t&&a(u),G(i)}}}function st(t){let e,n,o;function u(e){t[10](e)}let i={step:.5};return void 0!==t[0].value&&(i.value=t[0].value),e=new ot({props:i}),C.push((()=>R(e,"value",u))),{c(){U(e.$$.fragment)},m(t,n){W(e,t,n),o=!0},p(t,o){const u={};!n&&1&o&&(n=!0,u.value=t[0].value,j((()=>n=!1))),e.$set(u)},i(t){o||(D(e.$$.fragment,t),o=!0)},o(t){F(e.$$.fragment,t),o=!1},d(t){G(e,t)}}}function lt(e){let n,o,u,i=e[1],s=[];for(let t=0;t<i.length;t+=1)s[t]=rt(ut(e,i,t));return{c(){n=r("select");for(let t=0;t<s.length;t+=1)s[t].c();v(n,"class","svelte-1apvort"),void 0===e[0].function&&z((()=>e[9].call(n)))},m(t,i){l(t,n,i);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,null);x(n,e[0].function,!0),o||(u=d(n,"change",e[9]),o=!0)},p(t,e){if(2&e){let o;for(i=t[1],o=0;o<i.length;o+=1){const u=ut(t,i,o);s[o]?s[o].p(u,e):(s[o]=rt(u),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}1&e&&x(n,t[0].function)},i:t,o:t,d(t){t&&a(n),c(s,t),o=!1,u()}}}function at(t){let e,n,o,u,i,s,c;function f(e){t[7](e)}let m={step:.5};return void 0!==t[0].value&&(m.value=t[0].value),e=new ot({props:m}),C.push((()=>R(e,"value",f))),{c(){U(e.$$.fragment),o=p(),u=r("input"),v(u,"type","color"),v(u,"class","svelte-1apvort")},m(n,a){W(e,n,a),l(n,o,a),l(n,u,a),g(u,t[0].color),i=!0,s||(c=d(u,"input",t[8]),s=!0)},p(t,o){const i={};!n&&1&o&&(n=!0,i.value=t[0].value,j((()=>n=!1))),e.$set(i),1&o&&g(u,t[0].color)},i(t){i||(D(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){G(e,t),t&&a(o),t&&a(u),s=!1,c()}}}function ct(t){let e,n,o,u,i,s,c;function f(e){t[6](e)}let m={};return void 0!==t[0].fontSize&&(m.value=t[0].fontSize),o=new ot({props:m}),C.push((()=>R(o,"value",f))),{c(){e=r("input"),n=p(),U(o.$$.fragment),v(e,"class","svelte-1apvort")},m(u,a){l(u,e,a),g(e,t[0].value),l(u,n,a),W(o,u,a),i=!0,s||(c=d(e,"input",t[5]),s=!0)},p(t,n){1&n&&e.value!==t[0].value&&g(e,t[0].value);const i={};!u&&1&n&&(u=!0,i.value=t[0].fontSize,j((()=>u=!1))),o.$set(i)},i(t){i||(D(o.$$.fragment,t),i=!0)},o(t){F(o.$$.fragment,t),i=!1},d(t){t&&a(e),t&&a(n),G(o,t),s=!1,c()}}}function rt(t){let e,n,o,u=t[14].name+"";return{c(){e=r("option"),n=f(u),e.__value=o=t[14].name,e.value=e.__value},m(t,o){l(t,e,o),s(e,n)},p(t,i){2&i&&u!==(u=t[14].name+"")&&h(n,u),2&i&&o!==(o=t[14].name)&&(e.__value=o,e.value=e.__value)},d(t){t&&a(e)}}}function ft(t){let e,n,u,i,c,f,m,$,h,g,y,b,_,w,k;const S=[ct,at,lt,st,it],C=[];function E(t,e){return"text"==t[0].type?0:"draw"==t[0].type?1:"function"==t[0].type?2:"repeat"!=t[0].type?3:"repeat"==t[0].type?4:-1}return~(h=E(t))&&(g=C[h]=S[h](t)),{c(){e=r("select"),n=r("option"),n.textContent="move",u=r("option"),u.textContent="draw",i=r("option"),i.textContent="rotate",c=r("option"),c.textContent="text",f=r("option"),f.textContent="repeat",m=r("option"),m.textContent="function",$=p(),g&&g.c(),y=p(),b=r("button"),b.textContent="delete",n.__value="move",n.value=n.__value,u.__value="draw",u.value=u.__value,i.__value="rotate",i.value=i.__value,c.__value="text",c.value=c.__value,f.__value="repeat",f.value=f.__value,m.__value="function",m.value=m.__value,v(e,"class","svelte-1apvort"),void 0===t[0].type&&z((()=>t[4].call(e))),v(b,"class","svelte-1apvort")},m(o,a){l(o,e,a),s(e,n),s(e,u),s(e,i),s(e,c),s(e,f),s(e,m),x(e,t[0].type,!0),l(o,$,a),~h&&C[h].m(o,a),l(o,y,a),l(o,b,a),_=!0,w||(k=[d(e,"change",t[4]),d(e,"change",t[3]),d(b,"click",t[2])],w=!0)},p(t,[n]){1&n&&x(e,t[0].type);let o=h;h=E(t),h===o?~h&&C[h].p(t,n):(g&&(J(),F(C[o],1,1,(()=>{C[o]=null})),L()),~h?(g=C[h],g?g.p(t,n):(g=C[h]=S[h](t),g.c()),D(g,1),g.m(y.parentNode,y)):g=null)},i(t){_||(D(g),_=!0)},o(t){F(g),_=!1},d(t){t&&a(e),t&&a($),~h&&C[h].d(t),t&&a(y),t&&a(b),w=!1,o(k)}}}function pt(t,e,n){let o=k(),{step:u}=e,{functions:i}=e;return t.$$set=t=>{"step"in t&&n(0,u=t.step),"functions"in t&&n(1,i=t.functions)},[u,i,function(){o("delete")},function(){"repeat"!=u.type||u.times?"function"==u.type?n(0,u={type:u.type,function:null}):"text"==u.type?n(0,u={type:u.type,value:"text",fontSize:10}):"draw"!=u.type||u.color?"repeat"==u.type||"draw"==u.type||u.value||n(0,u={type:u.type,value:0}):n(0,u={type:u.type,value:u.value||0,color:"000000"}):n(0,u={type:"repeat",times:1,steps:[]})},function(){u.type=y(this),n(0,u)},function(){u.value=this.value,n(0,u)},function(e){t.$$.not_equal(u.fontSize,e)&&(u.fontSize=e,n(0,u))},function(e){t.$$.not_equal(u.value,e)&&(u.value=e,n(0,u))},function(){u.color=this.value,n(0,u)},function(){u.function=y(this),n(0,u)},function(e){t.$$.not_equal(u.value,e)&&(u.value=e,n(0,u))},function(e){t.$$.not_equal(u.times,e)&&(u.times=e,n(0,u))},function(e){t.$$.not_equal(u.steps,e)&&(u.steps=e,n(0,u))}]}class mt extends Q{constructor(t){super(),K(this,t,pt,ft,i,{step:0,functions:1})}}function dt(t,e,n){const o=t.slice();return o[8]=e[n],o[9]=e,o[10]=n,o}function vt(t){let e,n,o,u,i,f,m,$=t[0],h=[];for(let e=0;e<$.length;e+=1)h[e]=$t(dt(t,$,e));const g=t=>F(h[t],1,1,(()=>{h[t]=null}));return{c(){e=r("ol");for(let t=0;t<h.length;t+=1)h[t].c();n=p(),o=r("li"),u=r("button"),u.textContent="insert step",v(u,"class","svelte-1tdip3n")},m(a,c){l(a,e,c);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(e,null);s(e,n),s(e,o),s(o,u),i=!0,f||(m=d(u,"click",t[7]),f=!0)},p(t,o){if(15&o){let u;for($=t[0],u=0;u<$.length;u+=1){const i=dt(t,$,u);h[u]?(h[u].p(i,o),D(h[u],1)):(h[u]=$t(i),h[u].c(),D(h[u],1),h[u].m(e,n))}for(J(),u=$.length;u<h.length;u+=1)g(u);L()}},i(t){if(!i){for(let t=0;t<$.length;t+=1)D(h[t]);i=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);i=!1},d(t){t&&a(e),c(h,t),f=!1,m()}}}function $t(t){let e,n,o,u,i,c,f,m,$;function h(){return t[4](t[10])}function g(e){t[5](e,t[8],t[9],t[10])}let x={functions:t[1]};return void 0!==t[8]&&(x.step=t[8]),i=new mt({props:x}),C.push((()=>R(i,"step",g))),i.$on("delete",(function(){return t[6](t[10])})),{c(){e=r("li"),n=r("button"),n.textContent="insert step",o=p(),u=r("li"),U(i.$$.fragment),v(n,"class","svelte-1tdip3n")},m(t,a){l(t,e,a),s(e,n),l(t,o,a),l(t,u,a),W(i,u,null),f=!0,m||($=d(n,"click",h),m=!0)},p(e,n){t=e;const o={};2&n&&(o.functions=t[1]),!c&&1&n&&(c=!0,o.step=t[8],j((()=>c=!1))),i.$set(o)},i(t){f||(D(i.$$.fragment,t),f=!0)},o(t){F(i.$$.fragment,t),f=!1},d(t){t&&a(e),t&&a(o),t&&a(u),G(i),m=!1,$()}}}function ht(t){let e,n,o=t[0]&&vt(t);return{c(){o&&o.c(),e=m()},m(t,u){o&&o.m(t,u),l(t,e,u),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&D(o,1)):(o=vt(t),o.c(),D(o,1),o.m(e.parentNode,e)):o&&(J(),F(o,1,1,(()=>{o=null})),L())},i(t){n||(D(o),n=!0)},o(t){F(o),n=!1},d(t){o&&o.d(t),t&&a(e)}}}function gt(t,e,n){let{steps:o}=e,{functions:u}=e;function i(t){o.splice(t,0,{type:"move",value:0}),n(0,o)}function s(t){o.splice(t,1),n(0,o)}return t.$$set=t=>{"steps"in t&&n(0,o=t.steps),"functions"in t&&n(1,u=t.functions)},[o,u,i,s,t=>i(t),function(t,e,u,i){u[i]=t,n(0,o)},t=>s(t),()=>i(o.length)]}class xt extends Q{constructor(t){super(),K(this,t,gt,ht,i,{steps:0,functions:1})}}function yt(t){return t*(Math.PI/180)}let bt=new Map;function _t(t,e,n,o,u){return n.forEach((n=>{e=bt.get(n.type)(n,e,o,u,t)})),e}function wt(t,e,n){const o=t.slice();return o[23]=e[n],o}function kt(t){let e,n,o,u=t[23].name+"";return{c(){e=r("option"),n=f(u),e.__value=o=t[23],e.value=e.__value},m(t,o){l(t,e,o),s(e,n)},p(t,i){1&i&&u!==(u=t[23].name+"")&&h(n,u),1&i&&o!==(o=t[23])&&(e.__value=o,e.value=e.__value)},d(t){t&&a(e)}}}function St(t){let e,n,o;function u(e){t[13](e)}let i={functions:t[0].functions};return void 0!==t[4].steps&&(i.steps=t[4].steps),e=new xt({props:i}),C.push((()=>R(e,"steps",u))),{c(){U(e.$$.fragment)},m(t,n){W(e,t,n),o=!0},p(t,o){const u={};1&o&&(u.functions=t[0].functions),!n&&16&o&&(n=!0,u.steps=t[4].steps,j((()=>n=!1))),e.$set(u)},i(t){o||(D(e.$$.fragment,t),o=!0)},o(t){F(e.$$.fragment,t),o=!1},d(t){G(e,t)}}}function Ct(t){let e,n,u,i,m,$,h,y,b,_,w,k,S,E,M,O,q,N,A,B,T,I,P,H,K,Q,V,X,Y;function Z(e){t[11](e)}let tt={functions:t[0].functions};void 0!==t[0].steps&&(tt.steps=t[0].steps),E=new xt({props:tt}),C.push((()=>R(E,"steps",Z)));let et=t[0].functions,nt=[];for(let e=0;e<et.length;e+=1)nt[e]=kt(wt(t,et,e));let ot=t[4]&&St(t);return{c(){e=r("main"),n=r("canvas"),u=p(),i=r("section"),m=r("button"),m.textContent="play/pause",$=p(),h=r("button"),h.textContent="link",y=p(),b=r("section"),_=r("label"),w=f("Auto Center "),k=r("input"),S=p(),U(E.$$.fragment),O=p(),q=r("section"),N=r("h2"),N.textContent="functions",A=p(),B=r("select");for(let t=0;t<nt.length;t+=1)nt[t].c();T=p(),ot&&ot.c(),I=p(),P=r("form"),H=r("input"),K=p(),Q=r("button"),Q.textContent="create",v(n,"id","canvas"),v(n,"class","svelte-y2606h"),v(i,"class","svelte-y2606h"),v(k,"type","checkbox"),v(b,"class","svelte-y2606h"),void 0===t[4]&&z((()=>t[12].call(B))),v(Q,"type","submit"),v(q,"class","svelte-y2606h"),v(e,"class","svelte-y2606h")},m(o,a){l(o,e,a),s(e,n),t[8](n),s(e,u),s(e,i),s(i,m),s(i,$),s(i,h),s(e,y),s(e,b),s(b,_),s(_,w),s(_,k),k.checked=t[2],s(b,S),W(E,b,null),s(e,O),s(e,q),s(q,N),s(q,A),s(q,B);for(let t=0;t<nt.length;t+=1)nt[t]&&nt[t].m(B,null);var c;x(B,t[4],!0),s(q,T),ot&&ot.m(q,null),s(q,I),s(q,P),s(P,H),g(H,t[5]),s(P,K),s(P,Q),V=!0,X||(Y=[d(m,"click",t[9]),d(h,"click",t[7]),d(k,"change",t[10]),d(B,"change",t[12]),d(H,"input",t[14]),d(P,"submit",(c=t[6],function(t){return t.preventDefault(),c.call(this,t)}))],X=!0)},p(t,[e]){4&e&&(k.checked=t[2]);const n={};if(1&e&&(n.functions=t[0].functions),!M&&1&e&&(M=!0,n.steps=t[0].steps,j((()=>M=!1))),E.$set(n),1&e){let n;for(et=t[0].functions,n=0;n<et.length;n+=1){const o=wt(t,et,n);nt[n]?nt[n].p(o,e):(nt[n]=kt(o),nt[n].c(),nt[n].m(B,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}17&e&&x(B,t[4]),t[4]?ot?(ot.p(t,e),16&e&&D(ot,1)):(ot=St(t),ot.c(),D(ot,1),ot.m(q,I)):ot&&(J(),F(ot,1,1,(()=>{ot=null})),L()),32&e&&H.value!==t[5]&&g(H,t[5])},i(t){V||(D(E.$$.fragment,t),D(ot),V=!0)},o(t){F(E.$$.fragment,t),F(ot),V=!1},d(n){n&&a(e),t[8](null),G(E),c(nt,n),ot&&ot.d(),X=!1,o(Y)}}}function Et(t,e,n){let o=new URLSearchParams(window.location.search);o.has("code")&&(localStorage.setItem("prog-playground_code",atob(o.get("code"))),window.history.replaceState(null,null,"/"));let u,i=localStorage.getItem("prog-playground_code"),s=i?JSON.parse(i):{steps:[{type:"move",value:200},{type:"rotate",value:90},{type:"move",value:-20},{type:"repeat",times:80,steps:[{type:"draw",value:18},{type:"rotate",value:5},{type:"text",value:"ðŸ˜Š"}]}],functions:[]};s.functions=s.functions||[];let l=!0,a=!1,c=0,r=1;function f(t){c+=r,99!=c&&0!=c||(r*=-1),a&&requestAnimationFrame(f);let e=u.getContext("2d"),n={x:u.width/2,y:u.height/2};e.strokeStyle="#000000",e.lineWidth=1,e.clearRect(0,0,500,500);let o={point:Object.assign({},n),heading:0,boundries:{min:n,max:n}},i=100*function(t){let e=t/100;return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}(c);if(!l)return void _t(e,o,s.steps,s.functions,i);let p=function(t,e,n){return e.forEach((e=>{t=bt.get(e.type)(e,t,s.functions,n)})),t}(o,s.steps,i),m=(p.boundries.max.x+p.boundries.min.x)/2,d=(p.boundries.max.y+p.boundries.min.y)/2;_t(e,{point:{x:n.x-(m-n.x),y:n.y-(d-n.y)},heading:0,boundries:o.boundries},s.steps,s.functions,i)}var p;let m,d;p=()=>{screen.width<1e3?n(1,u.width=n(1,u.height=screen.width,u),u):n(1,u.width=n(1,u.height=500,u),u),f()},w().$$.on_mount.push(p),function(t){w().$$.after_update.push(t)}((()=>{localStorage.setItem("prog-playground_code",JSON.stringify(s)),f()}));return[s,u,l,a,m,d,function(){n(0,s.functions=[...s.functions,{name:d,steps:[]}],s)},function(){let t=window.location,e=btoa(JSON.stringify(s));navigator.clipboard.writeText(`${t}?code=${e}`)},function(t){C[t?"unshift":"push"]((()=>{u=t,n(1,u)}))},()=>n(3,a=!a),function(){l=this.checked,n(2,l)},function(e){t.$$.not_equal(s.steps,e)&&(s.steps=e,n(0,s))},function(){m=y(this),n(4,m),n(0,s)},function(e){t.$$.not_equal(m.steps,e)&&(m.steps=e,n(4,m))},function(){d=this.value,n(5,d)}]}bt.set("text",((t,e,n,o,u)=>{var i;if(u){let n="number"==typeof t.fontSize||null==t.fontSize?null!==(i=t.fontSize)&&void 0!==i?i:10:(t.fontSize.max-t.fontSize.min)*(o/100)+t.fontSize.min;u.font=`${n}px sans-serif`;let s=u.measureText(t.value),l=s.actualBoundingBoxAscent+s.actualBoundingBoxDescent;u.fillText(t.value,e.point.x-s.width/2,e.point.y+l/2)}return Object.assign({},e)})),bt.set("move",((t,e,n,o,u)=>{let i="number"==typeof t.value?t.value:(t.value.max-t.value.min)*(o/100)+t.value.min,s={x:e.point.x+Math.cos(yt(e.heading))*i,y:e.point.y+Math.sin(yt(e.heading))*i};return Object.assign(Object.assign({},e),{point:s,boundries:{min:{x:Math.min(e.boundries.min.x,s.x),y:Math.min(e.boundries.min.y,s.y)},max:{x:Math.max(e.boundries.max.x,s.x),y:Math.max(e.boundries.max.y,s.y)}}})})),bt.set("draw",((t,e,n,o,u)=>{let i="number"==typeof t.value?t.value:(t.value.max-t.value.min)*(o/100)+t.value.min,s={x:e.point.x+Math.cos(yt(e.heading))*i,y:e.point.y+Math.sin(yt(e.heading))*i};return u&&(u.strokeStyle=t.color,u.beginPath(),u.moveTo(e.point.x,e.point.y),u.lineTo(s.x,s.y),u.stroke()),Object.assign(Object.assign({},e),{point:s,boundries:{min:{x:Math.min(e.boundries.min.x,s.x),y:Math.min(e.boundries.min.y,s.y)},max:{x:Math.max(e.boundries.max.x,s.x),y:Math.max(e.boundries.max.y,s.y)}}})})),bt.set("rotate",((t,e,n,o,u)=>{let i="number"==typeof t.value?t.value:(t.value.max-t.value.min)*(o/100)+t.value.min,s=e.heading+i;return s%=360,Object.assign(Object.assign({},e),{heading:s})})),bt.set("repeat",((t,e,n,o,u)=>{if(void 0===t.times)return e;let i="number"==typeof t.times?t.times:(t.times.max-t.times.min)*(o/100)+t.times.min,s=Object.assign({},e);for(let e=0;e<i;e++)s=_t(u,s,t.steps,n,o);return s})),bt.set("function",((t,e,n,o,u)=>{let i=n.find((e=>e.name==t.function));return i?_t(u,e,i.steps,n,o):e}));return new class extends Q{constructor(t){super(),K(this,t,Et,Ct,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
